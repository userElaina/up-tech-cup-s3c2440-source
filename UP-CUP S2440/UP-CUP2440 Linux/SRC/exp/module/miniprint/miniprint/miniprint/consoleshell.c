#include "consoleshell.h"
#undef uchar
#define uchar unsigned char
char shell_s[]="\nshell> ";
/**
*
*/
void get_line(char *cmd);
void get_words(char *data);
void * consoleshell()
{
	int i;
	char cmd[256]={0,};	
	
	printf("\n<miniprint control shell>");
	printf("\n [1]  test the miniprint");
	printf("\n [**] help menu");
	printf("\n [0]  print the end of the context an exit");
	while(1){
		printf(shell_s);
		fflush(stdout);
		get_line(cmd);
		printf("\r\nwe get it!!!!!!!!!!!!");				//显示必要的输出
		if(strncmp("1",cmd,1)==0){
				//进入汉字打印模式
				uchar data[256]="博创科技\n嵌入互动";
//				uchar data[256]="诚信是博创科技发展的基石 品质是博创科技发展的价值 服务是博创科技发展的职责";
				print_chinese(data,0x05);
				printf("\nwaiting for your next command!");
			fflush(stdout);
		}else if (strncmp("**",cmd,2)==0){
				printf("\n<miniprint control shell>");
				printf("\n [1]  test the miniprint");
				printf("\n [2]  print context");
				printf("\n [2]  print your own words in Chinese");
				printf("\n [2]  print your own words in English");
				printf("\n [**] help menu");
				printf("\n [0]  print the end of the context an exit");
		}else if (strncmp("0",cmd,1)==0){

			   uchar data0[20] = "博创科技";
			   uchar data1[20] = "嵌入互动";
			   uchar data2[20] = "博大精深";
			   uchar data3[20] = "创造未来";
			   uchar data4[50] = "北京博创兴业科技有限公司";
			   uchar data5[50] = "BEIJINGBOCHUANGXINGYEKEJIYOUXIANGONGSI";
			   uchar data6[20] = "2007-03-17";
			   print_chinese(data0,0x01);
//			   enter();
			   print_space(0x05);
			   print_chinese(data1,0x01);
				 print_chinese(data2,0x01);
//			   enter();
			   print_space(0x02);			   
			   print_chinese(data3,0x01);
			   print_chinese(data4,0x01);
//			   enter();
			   print(data5,0x01);
//			   enter();
			   print_space(0x02);
			   print(data6,0x02);


//				uchar dianzhen[]={0x1c,0x26,0X1B,0X66,0X00,0X05,0xb1,0xb1,0x0d};
//				print(dianzhen,0x02);
			   enter();
/**
//uchar data[]={0x1c,0x26,0xbd,0xf1,0xa1,0xe6,0x61,0x62,0x63,0x31,0x32,0x33,0x0d};
  uchar data[]={0x1b,0x38,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0x0d,                                    //正常     25
								0x1b,0x38,0x1b,0x69,0x01,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0x1b,0x69,0x00,0X0A,0X0D,           //反白            32
								0X1B,0X38,0X1B,0X2D,0X01,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0X1B,0X2D,0X00,0x0d,                   //上画线      31
								0x1B,0x38,0X1C,0X47,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0X1C,0X48,0x0d,                         //加粗       29
								0x1b,0x38,0X1C,0X49,0X01,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0X1C,0X49,0X00,0x0d,                    //旋转      31
								0x1b,0x38,0X1C,0X4A,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0X0d,                                    //设置纵向打印  27
								0X1B,0X40,0x1b,0x38,0X1B,0X57,0X02,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0X1B,0X57,0X01,0x0d,                   //放大  31            (206 )
								0x1B,0x40,0x1b,0x38,0x1c,0x72,0x01,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0x31,0x32,0x33,0x34,0x35,0x36,
								0x37,0x38,0x39,0x0d ,                            //上标
								0x1b,0x38,0x1c,0x72,0x00,0xB1,0xB1,0xEC,0xBF,0xBB,0xCD,0xBF,0xC6,
								0xBC,0xBC,0xB7,0xA2,0xD5,0xB9,0xD3,0xD0,0xCF,0xDE,
								0xB9,0xAB,0xCB,0xBE,0x31,0x32,0x33,0x34,0x35,0x36,
								0x37,0x38,0x39,0x0d ,                                    //下标        ( 76)
								0x1b,0x45,0x50,0x30,0X01,0X45,0X05,0X45,
								0X03,0X35,0X01,0X25,0X03,0X55,0X02,0X25,
								0X05,0X55,0x00,//条码      //19
								0x1b,0x27,0x03,0x01,0x7f,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x7c,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x79,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x76,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x74,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x72,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x70,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x6e,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x6c,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x6a,0xf0,0x0d,      //10
								0x1b,0x27,0x03,0x01,0x68,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x66,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x64,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x62,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x60,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x5e,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x5c,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x5b,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x5a,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x59,0xf0,0x0d,      //10
								0x1b,0x27,0x03,0x01,0x58,0xf0,0x0d,
								0x1b,0x27,0x03,0x01,0x57,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x56,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x55,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x54,0xf0,0x0d,                  //25

                                 0x1b,0x27,0x03,0x01,0x54,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x55,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x56,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x57,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x58,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0x59,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x5a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x5b,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x5c,0xf0,0x0d,

                                 0x1b,0x27,0x03,0x01,0x5e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x60,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x62,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x64,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x66,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x68,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0x6a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x6c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x6e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x70,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x72,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x74,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x76,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x79,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x7c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x7f,0xf0,0x0d,               //50

                                 0x1b,0x27,0x03,0x01,0x7f,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x82,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x85,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x88,0xf0,0x0d,

                                 0x1b,0x27,0x03,0x01,0x8a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x8c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x8e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x90,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x92,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x94,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0x96,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x98,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa0,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa2,0xf0,0x0d,

                                 0x1b,0x27,0x03,0x01,0xa3,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa4,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa5,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0xa6,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa7,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa8,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa9,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xaa,0xf0,0x0d,               //25

                                 0x1b,0x27,0x03,0x01,0xaa,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa9,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa8,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa7,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa6,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0xa5,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa4,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa3,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0xa2,0xf0,0x0d,

                                 0x1b,0x27,0x03,0x01,0xa0,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x9a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x98,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x96,0xf0,0x0d,      //10
                                 0x1b,0x27,0x03,0x01,0x94,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x92,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x90,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x8e,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x8c,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x8a,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x88,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x86,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x84,0xf0,0x0d,
                                 0x1b,0x27,0x03,0x01,0x82,0xf0,0x0d,      //10       (  700 )
};
//	uchar data[]={0x1c,0x26,0xB1,0xB1,0xBE,0xA9,0x0d};
//0x1b,0x4b,78,0x00,                                //点阵图形82
				//	0xF0,0x00,0x00,0x7F,0x00,0x00,0x3F,0xFE,0x80,0x0F,
                    //0xFF,0xE0,0x03,0xFF,0xF8,0x00,0xFF,0xFC,0x00,0x3F,
                   // 0xFE,0x00,0x01,0xFF,0x00,0x00,0x7F,0x00,0x00,0xF3,
                   // 0x00,0x00,0xE1,0x00,0x00,0xE0,0x00,0x00,0xE0,0x00,
                  //  0x00,0xE1,0x00,0x00,0xF3,0x00,0x00,0x7F,0x00,0x00,
                  //  0xFF,0x00,0x1F,0xFE,0x00,0x7F,0xFC,0x01,0xFF,0xF8, 
                   // 0x07,0xFF,0xF0,0x0F,0xFF,0xC0,0x3F,0xF0,0x00,0x7E,
                   // 0x00,0x00,0x0F0,0x00,0x00,0xC0,0x00,0x00};
        print(data,0x01);
*/
				break;
		}else if(cmd[0] != "0"){
			 system(cmd);
		}
	}		
}

void get_line(char *cmd)
{
	int i=0;
	while(1){
		cmd[i]=getchar();
		if(cmd[i]==10){
			cmd[i]=0;
			break;
		}
		fflush(stdout);
		i++;
	}

}
void get_words(char *data){
	int i=0;
	while(1){
		data[i]=getchar();
		if(data[i]==10){
			data[i]=0;
			break;
		}
		fflush(stdout);
	}
}

